{"ast":null,"code":"var _jsxFileName = \"E:\\\\\\uC804\\uC0C1\\uC6B1\\\\\\uD504\\uB85C\\uC81D\\uD2B8\\\\\\uC6F9 \\uD37C\\uBE14\\uB9AC\\uC2F1\\\\React\\\\picture\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect, useMemo, useRef } from 'react';\nimport logo from './logo.png';\nimport './App.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'; // import {faSearch} from '@fortawesome/free-regular-svg-icons';\n\nimport Header from './components/Header';\nimport PictureList from './components/PictureList';\nimport { createEvent } from '@testing-library/dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const searchInput = useRef(null);\n  const [$imgSearch, $setImgSearch] = useState('');\n  const [$imgList, $setImgList] = useState([]);\n  const [$listPage, $setListPage] = useState(1);\n  const [loadding, setLoadding] = useState(false);\n  const $url = 'https://pixabay.com/api/?';\n  const $option = {\n    key: 'key=16682621-dc6a4ac72962315d360d16da9',\n    safe: '&editors_choice=true',\n    count: '&per_page=20',\n    page: '&page='\n  };\n\n  const scrollDown = e => {\n    let bodyHeight = document.body.scrollHeight;\n    let rootHeight = document.body.querySelector('#root').offsetHeight;\n    let all = bodyHeight - rootHeight;\n    let now = window.scrollY;\n\n    if (now >= all) {\n      setLoadding(true);\n      $setListPage(prev => prev += 1);\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('scroll', scrollDown);\n    fetch($url + $option.key + $option.safe + $option.count + $option.page + $listPage).then(response => response.json()).then(responseData => {\n      $setImgList(lastData => {\n        $setImgSearch('');\n        searchInput.current.value = '';\n        setLoadding(false);\n        return lastData.concat(responseData.hits);\n      });\n    });\n    return () => {\n      window.removeEventListener('scroll', scrollDown);\n    };\n  }, [$listPage]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      logo: logo,\n      searchInput: searchInput,\n      setImgSearch: $setImgSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PictureList, {\n      list: $imgList,\n      searchInput: searchInput,\n      searchValue: $imgSearch,\n      loadding: loadding,\n      setLoadding: setLoadding\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"WDOFbou4xTs8xbp/fLEg6AnOrGM=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["E:/전상욱/프로젝트/웹 퍼블리싱/React/picture/src/App.js"],"names":["React","useState","useEffect","useMemo","useRef","logo","FontAwesomeIcon","Header","PictureList","createEvent","App","searchInput","$imgSearch","$setImgSearch","$imgList","$setImgList","$listPage","$setListPage","loadding","setLoadding","$url","$option","key","safe","count","page","scrollDown","e","bodyHeight","document","body","scrollHeight","rootHeight","querySelector","offsetHeight","all","now","window","scrollY","prev","addEventListener","fetch","then","response","json","responseData","lastData","current","value","concat","hits","removeEventListener"],"mappings":"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","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport React, {useState, useEffect, useMemo, useRef} from 'react';\nimport logo from './logo.png';\nimport './App.css';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\n// import {faSearch} from '@fortawesome/free-regular-svg-icons';\nimport Header from './components/Header';\nimport PictureList from './components/PictureList';\nimport { createEvent } from '@testing-library/dom';\n\nfunction App() {\n\n  const searchInput = useRef(null);\n  const [$imgSearch, $setImgSearch] = useState('');\n  const [$imgList, $setImgList] = useState([]);\n  const [$listPage, $setListPage] = useState(1);\n  const [loadding, setLoadding] = useState(false);\n  const $url = 'https://pixabay.com/api/?';\n  const $option = {\n    key: 'key=16682621-dc6a4ac72962315d360d16da9',\n    safe: '&editors_choice=true',\n    count: '&per_page=20',\n    page: '&page='\n  };\n  \n  const scrollDown = (e) => {\n    let bodyHeight = document.body.scrollHeight;\n    let rootHeight = document.body.querySelector('#root').offsetHeight\n    let all = bodyHeight - rootHeight;\n    let now = window.scrollY;\n    \n    if(now >= all) {\n      setLoadding(true);\n      $setListPage((prev) => prev += 1)\n    }\n  }\n\n  useEffect(() => {\n    window.addEventListener('scroll', scrollDown);\n    \n    fetch($url + $option.key + $option.safe + $option.count + $option.page + $listPage)\n      .then((response) => response.json())\n      .then((responseData) => {\n        $setImgList((lastData) => {\n          $setImgSearch('');\n          searchInput.current.value = '';\n          setLoadding(false);\n          return lastData.concat(responseData.hits);\n        });\n      });\n      \n    return () => {\n      window.removeEventListener('scroll', scrollDown);\n    }\n  }, [$listPage]);\n\n  return (\n    <div id=\"App\">\n      <Header \n        logo = {logo}\n        searchInput = {searchInput}\n        setImgSearch = {$setImgSearch}\n      />\n      <PictureList \n        list = {$imgList}\n        searchInput = {searchInput}\n        searchValue = {$imgSearch}\n        loadding = {loadding}\n        setLoadding = {setLoadding}\n      />\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}