{"ast":null,"code":"import _slicedToArray from\"E:/\\uC804\\uC0C1\\uC6B1/\\uD504\\uB85C\\uC81D\\uD2B8/\\uC6F9 \\uD37C\\uBE14\\uB9AC\\uC2F1/React/picture/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable react-hooks/exhaustive-deps */import React,{useState,useEffect,useMemo,useRef}from'react';import logo from'./logo.png';import'./App.css';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';// import {faSearch} from '@fortawesome/free-regular-svg-icons';\nimport Header from'./components/Header';import PictureList from'./components/PictureList';import{createEvent}from'@testing-library/dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var searchInput=useRef(null);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),$imgSearch=_useState2[0],$setImgSearch=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),$imgList=_useState4[0],$setImgList=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),$listPage=_useState6[0],$setListPage=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loadding=_useState8[0],setLoadding=_useState8[1];var $url='https://pixabay.com/api/?';var $option={key:'key=16682621-dc6a4ac72962315d360d16da9',safe:'&editors_choice=true',count:'&per_page=20',page:'&page='};var scrollDown=function scrollDown(e){var bodyHeight=document.body.scrollHeight;var rootHeight=document.body.querySelector('#root').offsetHeight;var all=bodyHeight-rootHeight;var now=window.scrollY;if(now>=all){setLoadding(true);$setListPage(function(prev){return prev+=1;});}};useEffect(function(){window.addEventListener('scroll',scrollDown);fetch($url+$option.key+$option.safe+$option.count+$option.page+$listPage).then(function(response){return response.json();}).then(function(responseData){$setImgList(function(lastData){$setImgSearch('');searchInput.current.value='';setLoadding(false);return lastData.concat(responseData.hits);});});return function(){window.removeEventListener('scroll',scrollDown);};},[$listPage]);return/*#__PURE__*/_jsxs(\"div\",{id:\"App\",children:[/*#__PURE__*/_jsx(Header,{logo:logo,searchInput:searchInput,setImgSearch:$setImgSearch}),/*#__PURE__*/_jsx(PictureList,{list:$imgList,searchInput:searchInput,searchValue:$imgSearch,loadding:loadding,setLoadding:setLoadding})]});}export default App;","map":{"version":3,"sources":["E:/전상욱/프로젝트/웹 퍼블리싱/React/picture/src/App.js"],"names":["React","useState","useEffect","useMemo","useRef","logo","FontAwesomeIcon","Header","PictureList","createEvent","App","searchInput","$imgSearch","$setImgSearch","$imgList","$setImgList","$listPage","$setListPage","loadding","setLoadding","$url","$option","key","safe","count","page","scrollDown","e","bodyHeight","document","body","scrollHeight","rootHeight","querySelector","offsetHeight","all","now","window","scrollY","prev","addEventListener","fetch","then","response","json","responseData","lastData","current","value","concat","hits","removeEventListener"],"mappings":"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","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport React, {useState, useEffect, useMemo, useRef} from 'react';\nimport logo from './logo.png';\nimport './App.css';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\n// import {faSearch} from '@fortawesome/free-regular-svg-icons';\nimport Header from './components/Header';\nimport PictureList from './components/PictureList';\nimport { createEvent } from '@testing-library/dom';\n\nfunction App() {\n\n  const searchInput = useRef(null);\n  const [$imgSearch, $setImgSearch] = useState('');\n  const [$imgList, $setImgList] = useState([]);\n  const [$listPage, $setListPage] = useState(1);\n  const [loadding, setLoadding] = useState(false);\n  const $url = 'https://pixabay.com/api/?';\n  const $option = {\n    key: 'key=16682621-dc6a4ac72962315d360d16da9',\n    safe: '&editors_choice=true',\n    count: '&per_page=20',\n    page: '&page='\n  };\n  \n  const scrollDown = (e) => {\n    let bodyHeight = document.body.scrollHeight;\n    let rootHeight = document.body.querySelector('#root').offsetHeight\n    let all = bodyHeight - rootHeight;\n    let now = window.scrollY;\n    \n    if(now >= all) {\n      setLoadding(true);\n      $setListPage((prev) => prev += 1)\n    }\n  }\n\n  useEffect(() => {\n    window.addEventListener('scroll', scrollDown);\n    \n    fetch($url + $option.key + $option.safe + $option.count + $option.page + $listPage)\n      .then((response) => response.json())\n      .then((responseData) => {\n        $setImgList((lastData) => {\n          $setImgSearch('');\n          searchInput.current.value = '';\n          setLoadding(false);\n          return lastData.concat(responseData.hits);\n        });\n      });\n      \n    return () => {\n      window.removeEventListener('scroll', scrollDown);\n    }\n  }, [$listPage]);\n\n  return (\n    <div id=\"App\">\n      <Header \n        logo = {logo}\n        searchInput = {searchInput}\n        setImgSearch = {$setImgSearch}\n      />\n      <PictureList \n        list = {$imgList}\n        searchInput = {searchInput}\n        searchValue = {$imgSearch}\n        loadding = {loadding}\n        setLoadding = {setLoadding}\n      />\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}